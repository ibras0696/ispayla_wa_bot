# Журнал изменений

## 2025-12-11
- Добавлена подстраховка `Settings.base_url`: берётся `GREEN_API_BASE_URL` или `DOMAIN`, иначе дефолт Green API.
- Добавлена валидация пробега: предел `2_147_483_647` км, чтобы не ловить int32 overflow в Postgres.
- В `CrudeAdd` заготовлены вспомогательные методы (подсчёт активных, поиск по названию, получение объявления по ID) — пока не подключены к хендлерам.
- Поправлены описательные docstring в `bot/runner.py` и `bot/handlers/basic.py` для облегчения чтения.
- Покупка: кнопка «Все объявления» теперь показывает общее количество и последние 5, можно открыть по ID или номеру; добавлен поиск по названию (кнопка «Поиск авто»), выводит до 5 совпадений и даёт открыть карточку.
- Покупка: добавлены фильтры (цена/год/пробег/марка), пагинация, кэш списка; кнопка «Избранное», добавление в избранное из карточки; в CRUD добавлены подсчёт и выборка по фильтрам с пагинацией, get_by_ids.
